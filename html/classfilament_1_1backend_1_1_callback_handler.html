<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Filament: CallbackHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Filament
   </div>
   <div id="projectbrief">A real time, physically-based renderer (PBR)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classfilament_1_1backend_1_1_callback_handler.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">CallbackHandler Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>A generic interface to dispatch callbacks.  
 <a href="classfilament_1_1backend_1_1_callback_handler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_callback_handler_8h_source.html">CallbackHandler.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ad10e776a8ba35633d0deb9def542c5e2"><td class="memItemLeft" align="right" valign="top"><a id="ad10e776a8ba35633d0deb9def542c5e2"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>Callback</b> = void(*)(void *user)</td></tr>
<tr class="separator:ad10e776a8ba35633d0deb9def542c5e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8980efec1f738d9b6bc86dc8b86f2949"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfilament_1_1backend_1_1_callback_handler.html#a8980efec1f738d9b6bc86dc8b86f2949">post</a> (void *user, Callback callback)=0</td></tr>
<tr class="memdesc:a8980efec1f738d9b6bc86dc8b86f2949"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules the callback to be called onto the appropriate thread.  <a href="classfilament_1_1backend_1_1_callback_handler.html#a8980efec1f738d9b6bc86dc8b86f2949">More...</a><br /></td></tr>
<tr class="separator:a8980efec1f738d9b6bc86dc8b86f2949"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A generic interface to dispatch callbacks. </p>
<p>All APIs that take a callback as argument also take a CallbackHandler* which is used to dispatch the callback: <a class="el" href="classfilament_1_1backend_1_1_callback_handler.html#a8980efec1f738d9b6bc86dc8b86f2949" title="Schedules the callback to be called onto the appropriate thread.">CallbackHandler::post()</a> method is called from a service thread as soon as possible (this will NEVER be the main thread), <a class="el" href="classfilament_1_1backend_1_1_callback_handler.html#a8980efec1f738d9b6bc86dc8b86f2949" title="Schedules the callback to be called onto the appropriate thread.">CallbackHandler::post()</a> is responsible for scheduling the callback onto the thread the user desires.</p>
<p>This is intended to make callbacks interoperate with the platform/OS's own messaging system.</p>
<p>CallbackHandler* can always be nullptr in which case the default handler is used. The default handler always dispatches callbacks on filament's main thread opportunistically.</p>
<h2>Life time: </h2>
<p>Filament make no attempts to manage the life time of the CallbackHandler* and never takes ownership. In particular, this means that the <a class="el" href="classfilament_1_1backend_1_1_callback_handler.html" title="A generic interface to dispatch callbacks.">CallbackHandler</a> instance must stay valid until all pending callbacks are been dispatched.</p>
<p>Similarly, when shutting down filament, care must be taken to ensure that all pending callbacks that might access filament's state have been dispatched. Filament can no longer ensure this because callback execution is the responsibility of the <a class="el" href="classfilament_1_1backend_1_1_callback_handler.html" title="A generic interface to dispatch callbacks.">CallbackHandler</a>, which is external to filament. Typically, the concrete <a class="el" href="classfilament_1_1backend_1_1_callback_handler.html" title="A generic interface to dispatch callbacks.">CallbackHandler</a> would have a mechanism to drain and/or wait for all callbacks to be processed. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a8980efec1f738d9b6bc86dc8b86f2949"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8980efec1f738d9b6bc86dc8b86f2949">&#9670;&nbsp;</a></span>post()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void post </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Callback&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Schedules the callback to be called onto the appropriate thread. </p>
<p>Typically this will be the application's main thead.</p>
<p>Must be thread-safe. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>backend/include/backend/<a class="el" href="_callback_handler_8h_source.html">CallbackHandler.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>filament</b></li><li class="navelem"><a class="el" href="namespacefilament_1_1backend.html">backend</a></li><li class="navelem"><a class="el" href="classfilament_1_1backend_1_1_callback_handler.html">CallbackHandler</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
